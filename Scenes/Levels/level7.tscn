[gd_scene format=4 uid="uid://eo563c3kf6ab"]

[ext_resource type="TileSet" uid="uid://dv2ek4xnnct6f" path="res://Assets/Resources/ground_tileset.tres" id="1_lvtxo"]
[ext_resource type="Script" uid="uid://cvqqmq04h5mxq" path="res://Scripts/level_starter.gd" id="1_xf4l5"]
[ext_resource type="PackedScene" uid="uid://bojvjttovmt8" path="res://Scenes/wind_controller.tscn" id="2_xf4l5"]
[ext_resource type="Script" uid="uid://dvpqim5omfji7" path="res://Scripts/navigation_region_2d.gd" id="3_303tg"]
[ext_resource type="TileSet" uid="uid://b8bqcouefk1rw" path="res://Assets/Resources/wall_tileset.tres" id="4_xx5rf"]
[ext_resource type="PackedScene" uid="uid://dbcxo6jcxhijn" path="res://Scenes/cacti.tscn" id="5_nfwxd"]
[ext_resource type="PackedScene" uid="uid://dwh2he02n6sfl" path="res://Scenes/cacti_2.tscn" id="6_tjwwh"]
[ext_resource type="PackedScene" uid="uid://b25xtwhs2csqi" path="res://Scenes/movable_box.tscn" id="8_p4p32"]
[ext_resource type="PackedScene" uid="uid://mbkdc11c52wk" path="res://Scenes/Towers/artillery_tower.tscn" id="9_2y10i"]
[ext_resource type="PackedScene" uid="uid://dm8wart2qijrc" path="res://Scenes/box.tscn" id="10_stcu3"]
[ext_resource type="PackedScene" uid="uid://krdnhpomjc73" path="res://Scenes/UI/ui.tscn" id="11_ovtob"]
[ext_resource type="PackedScene" uid="uid://cvyicx01sm07a" path="res://Scenes/level_menu.tscn" id="12_4j3r4"]
[ext_resource type="PackedScene" uid="uid://q6a5e0rxses2" path="res://Scenes/loss_screen.tscn" id="13_t1xa5"]
[ext_resource type="PackedScene" uid="uid://sx0w03itiw5k" path="res://Scenes/win_screen.tscn" id="14_o88eh"]
[ext_resource type="PackedScene" uid="uid://lvc3cohw20il" path="res://Scenes/enemy_spawner.tscn" id="15_grign"]
[ext_resource type="Script" uid="uid://dobo3k5tvfyig" path="res://Scripts/enemy_spawner.gd" id="15_xf4l5"]
[ext_resource type="PackedScene" uid="uid://biyfpl7vvrnyl" path="res://Scenes/Levels/level8.tscn" id="15_xx5rf"]
[ext_resource type="Script" uid="uid://bvjbq0juon6qg" path="res://Scripts/spawn_entry.gd" id="16_mjx5q"]
[ext_resource type="PackedScene" uid="uid://4xl7mw440pyc" path="res://Scenes/Enemies/normal_enemy.tscn" id="17_yqesb"]
[ext_resource type="Texture2D" uid="uid://1ew70gbl735k" path="res://Assets/Sprites/EnemyBurrow.png" id="18_303tg"]
[ext_resource type="PackedScene" uid="uid://uk4xl3k6nbqj" path="res://Scenes/Enemies/heavy_enemy.tscn" id="18_fr07w"]
[ext_resource type="PackedScene" uid="uid://j1ftmn1hkutc" path="res://Scenes/goal.tscn" id="19_o6vx8"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_3sx62"]
vertices = PackedVector2Array(1565, 1109.2188, 1565, 1108.2188, 1693, 1109.2188, 1893, 1114.2578, 1693, 1108.2188, 1821, 1109.2188, 1821, 1108.2188, 1893, 1108.7813, 29, 1119.7188, 29, 1108.2188, 157, 1109.2188, 285, 1109.2188, 157, 1108.2188, 285, 1108.2188, 413, 1109.2188, 413, 1108.2188, 541, 1109.2188, 541, 1108.2188, 669, 1109.2188, 669, 1108.2188, 797, 1109.2188, 797, 1108.2188, 925, 1109.2188, 925, 1108.2188, 1053, 1109.2188, 1053, 1108.2188, 1181, 1109.2188, 1181, 1108.2188, 1309, 1109.2188, 1309, 1107, 1381, 1107, 1381, 1107.7813, 1798, 983.52344, 1798, 989, 1783.7813, 989, 1783.6875, 985.3203, 1791.0781, 957.7422, 1798, 916.46875, 1795.9063, 924.25, 1787.5313, 893, 1798, 893, 1440.9922, 570, 1565, 469.21875, 1893, 708.90625, 1742, 706.5625, 1432.4063, 601.9922, 1110.0625, 493.5078, 1085.0234, 468.46875, 1181, 469.21875, 955.9375, 582.4922, 958.4531, 585, 946.52344, 585, 973, 611.46875, 973, 599.5469, 988.5078, 615.0625, 981.9922, 645, 925, 468.21875, 980.78906, 468.64844, 955.9375, 493.5078, 925, 469.21875, 1594.6172, 877.5078, 1580.0078, 932, 1343.9922, 889, 1335.4063, 857.0078, 1742, 837.21875, 1689, 823.0078, 1634.5078, 837.6172, 1408.9922, 625.40625, 1033, 626.9922, 605.21875, 477, 604.34375, 477, 604.6875, 469.4297, 669, 470.45313, 1633.1328, 839, 1595, 839, 1377, 633.9922, 853, 678.52344, 853, 705, 605.21875, 861, 604.21875, 861, 605.21875, 733, 844.0078, 645, 853, 585, 853, 611.46875, 604.21875, 733, 605.21875, 605, 797, 469.21875, 604.21875, 605, 669, 468.21875, 797, 468.21875, 944.0078, 538, 913, 576.0078, 879.47656, 585, 1321.5938, 538.0078, 1181, 468.21875, 1309, 469.21875, 1345.0078, 514.59375, 1309, 468.21875, 1437, 469.21875, 1408.9922, 514.59375, 1377, 506.0078, 1437, 468.21875, 1594.6172, 986.4922, 1595, 986.8672, 1595, 989, 604.21875, 989, 1280, 952.9922, 485, 349, 485, 989, 29, 989, 29, 21, 1893, 21, 1565, 349, 1432.4063, 538.0078, 1313.0078, 570, 1121.9922, 538, 1335.4063, 920.9922, 1110.0625, 582.4922, 1321.5938, 601.9922, 1311.9922, 944.40625, 879.47656, 705, 913, 713.9922, 1224.5938, 920.9922, 1248.0078, 944.40625, 1224.5938, 857.0078, 973, 705, 973, 678.52344, 1077.4922, 615.0625, 1248.0078, 833.59375, 1345.0078, 625.40625, 1280, 825.0078, 1595, 877.1172, 1311.9922, 833.59375, 1216.0078, 889, 946.52344, 705)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(2, 4, 5, 3), PackedInt32Array(5, 6, 7, 3), PackedInt32Array(8, 9, 10), PackedInt32Array(3, 8, 10, 11), PackedInt32Array(10, 12, 11), PackedInt32Array(11, 13, 14), PackedInt32Array(3, 11, 14), PackedInt32Array(14, 15, 16), PackedInt32Array(3, 14, 16), PackedInt32Array(16, 17, 18), PackedInt32Array(3, 16, 18), PackedInt32Array(18, 19, 20), PackedInt32Array(3, 18, 20), PackedInt32Array(20, 21, 22), PackedInt32Array(3, 20, 22), PackedInt32Array(22, 23, 24), PackedInt32Array(3, 22, 24), PackedInt32Array(24, 25, 26), PackedInt32Array(3, 24, 26), PackedInt32Array(26, 27, 28, 3), PackedInt32Array(28, 29, 30, 31), PackedInt32Array(3, 28, 31, 0), PackedInt32Array(32, 33, 34, 35, 36), PackedInt32Array(37, 38, 39, 40), PackedInt32Array(41, 42, 43, 44, 45), PackedInt32Array(46, 47, 48), PackedInt32Array(49, 50, 51), PackedInt32Array(52, 53, 54, 55), PackedInt32Array(56, 57, 58, 59), PackedInt32Array(60, 61, 62, 63), PackedInt32Array(44, 64, 65, 45), PackedInt32Array(45, 65, 66, 67), PackedInt32Array(55, 54, 68), PackedInt32Array(69, 70, 71, 72), PackedInt32Array(67, 66, 73, 74, 75), PackedInt32Array(76, 77, 78, 79, 80, 81), PackedInt32Array(82, 83, 81, 80, 84, 85, 72, 86), PackedInt32Array(85, 87, 69, 72), PackedInt32Array(72, 88, 86), PackedInt32Array(86, 89, 59, 58, 90, 91, 92, 82), PackedInt32Array(93, 48, 94, 95, 96), PackedInt32Array(95, 97, 98, 99, 100), PackedInt32Array(98, 101, 42, 41), PackedInt32Array(90, 49, 51, 91), PackedInt32Array(102, 103, 104, 105, 106), PackedInt32Array(107, 108, 109, 110), PackedInt32Array(107, 110, 111, 112), PackedInt32Array(112, 111, 43, 42), PackedInt32Array(98, 41, 113), PackedInt32Array(98, 113, 99), PackedInt32Array(95, 100, 96), PackedInt32Array(114, 115, 46, 48, 93), PackedInt32Array(116, 62, 61, 102), PackedInt32Array(117, 115, 114, 118), PackedInt32Array(119, 116, 102), PackedInt32Array(105, 78, 77, 120, 121, 122, 123), PackedInt32Array(124, 125, 126, 55, 68, 127, 128), PackedInt32Array(127, 117, 118, 129, 130, 128), PackedInt32Array(75, 74, 131, 60, 63, 132, 129), PackedInt32Array(129, 132, 130), PackedInt32Array(125, 124, 133), PackedInt32Array(134, 125, 133, 122, 121), PackedInt32Array(106, 119, 102), PackedInt32Array(105, 123, 106)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1973, -65, 1984, 1142, -65, 1148, -64, -73)])
agent_radius = 30.0

[sub_resource type="Resource" id="Resource_dv5qn"]
script = ExtResource("16_mjx5q")
scene = ExtResource("17_yqesb")
count = 10
spawn_rate = 0.3
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_303tg"]
script = ExtResource("16_mjx5q")
scene = ExtResource("17_yqesb")
count = 25
spawn_rate = 2.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_nfwxd"]
script = ExtResource("16_mjx5q")
scene = ExtResource("17_yqesb")
count = 5
spawn_rate = 0.3
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_nqasx"]
script = ExtResource("16_mjx5q")
scene = ExtResource("17_yqesb")
count = 35
spawn_rate = 2.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_xx5rf"]
script = ExtResource("16_mjx5q")
scene = ExtResource("18_fr07w")
count = 5
spawn_rate = 3.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_tjwwh"]
script = ExtResource("16_mjx5q")
scene = ExtResource("17_yqesb")
count = 40
spawn_rate = 2.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[node name="Level7" type="Node2D" unique_id=657947858 node_paths=PackedStringArray("spawners")]
script = ExtResource("1_xf4l5")
spawners = [NodePath("EnemySpawner"), NodePath("EnemySpawner2"), NodePath("EnemySpawner3")]

[node name="GroundLayer" type="TileMapLayer" parent="." unique_id=2137381242]
z_index = -2
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAD//wUAAAAAAAAAAAD//wYAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAcAAAAAAAAAAAABAAcAAAAAAAAAAAD/////AAAAAAAAAAD//wAAAAAAAAAAAAD//wEAAAAAAAAAAAD//wIAAAAAAAAAAAD//wMAAAAAAAAAAAD//wQAAAAAAAAAAAD//wcAAAAAAAAAAAD//wgAAAAAAAAAAAAAAP//AAAAAAAAAAAAAAgAAAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAABAAQAAAAAAAAAAAABAAUAAAAAAAAAAAABAAYAAAAAAAAAAAABAAgAAAAAAAAAAAACAP//AAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAACAAQAAAAAAAAAAAACAAUAAAAAAAAAAAACAAYAAAAAAAAAAAACAAcAAAAAAAAAAAACAAgAAAAAAAAAAAADAP//AAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAADAAYAAAAAAAAAAAADAAcAAAAAAAAAAAADAAgAAAAAAAAAAAAEAP//AAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAUAAAAAAAAAAAAEAAYAAAAAAAAAAAAEAAcAAAAAAAAAAAAEAAgAAAAAAAAAAAAFAP//AAAAAAAAAAAFAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAAAAAAFAAUAAAAAAAAAAAAFAAYAAAAAAAAAAAAFAAcAAAAAAAAAAAAFAAgAAAAAAAAAAAAGAP//AAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAUAAAAAAAAAAAAGAAYAAAAAAAAAAAAGAAcAAAAAAAAAAAAGAAgAAAAAAAAAAAAHAP//AAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAHAAUAAAAAAAAAAAAHAAYAAAAAAAAAAAAHAAcAAAAAAAAAAAAHAAgAAAAAAAAAAAAIAP//AAAAAAAAAAAIAAAAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAMAAAAAAAAAAAAIAAQAAAAAAAAAAAAIAAUAAAAAAAAAAAAIAAYAAAAAAAAAAAAIAAcAAAAAAAAAAAAIAAgAAAAAAAAAAAAJAP//AAAAAAAAAAAJAAAAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAMAAAAAAAAAAAAJAAQAAAAAAAAAAAAJAAUAAAAAAAAAAAAJAAYAAAAAAAAAAAAJAAcAAAAAAAAAAAAJAAgAAAAAAAAAAAAKAP//AAAAAAAAAAAKAAAAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAIAAAAAAAAAAAAKAAMAAAAAAAAAAAAKAAQAAAAAAAAAAAAKAAUAAAAAAAAAAAAKAAYAAAAAAAAAAAAKAAcAAAAAAAAAAAAKAAgAAAAAAAAAAAALAP//AAAAAAAAAAALAAAAAAAAAAAAAAALAAEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAMAAAAAAAAAAAALAAQAAAAAAAAAAAALAAUAAAAAAAAAAAALAAYAAAAAAAAAAAALAAcAAAAAAAAAAAALAAgAAAAAAAAAAAAMAP//AAAAAAAAAAAMAAAAAAAAAAAAAAAMAAEAAAAAAAAAAAAMAAIAAAAAAAAAAAAMAAMAAAAAAAAAAAAMAAQAAAAAAAAAAAAMAAUAAAAAAAAAAAAMAAYAAAAAAAAAAAAMAAcAAAAAAAAAAAAMAAgAAAAAAAAAAAANAP//AAAAAAAAAAANAAAAAAAAAAAAAAANAAEAAAAAAAAAAAANAAIAAAAAAAAAAAANAAMAAAAAAAAAAAANAAQAAAAAAAAAAAANAAUAAAAAAAAAAAANAAYAAAAAAAAAAAANAAcAAAAAAAAAAAANAAgAAAAAAAAAAAAOAP//AAAAAAAAAAAOAAAAAAAAAAAAAAAOAAEAAAAAAAAAAAAOAAIAAAAAAAAAAAAOAAMAAAAAAAAAAAAOAAQAAAAAAAAAAAAOAAUAAAAAAAAAAAAOAAYAAAAAAAAAAAAOAAcAAAAAAAAAAAAOAAgAAAAAAAAAAAAPAP//AAAAAAAAAAAPAAAAAAAAAAAAAAAPAAEAAAAAAAAAAAAPAAIAAAAAAAAAAAAPAAMAAAAAAAAAAAAPAAQAAAAAAAAAAAAPAAUAAAAAAAAAAAAPAAYAAAAAAAAAAAAPAAcAAAAAAAAAAAAPAAgAAAAAAAAAAAA=")
tile_set = ExtResource("1_lvtxo")
metadata/_edit_lock_ = true

[node name="WindController" parent="." unique_id=1545098080 instance=ExtResource("2_xf4l5")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." unique_id=1388863913]
position = Vector2(-1, 7)
navigation_polygon = SubResource("NavigationPolygon_3sx62")
script = ExtResource("3_303tg")

[node name="Cacti2" parent="NavigationRegion2D" unique_id=1851072854 instance=ExtResource("6_tjwwh")]
position = Vector2(1033, 538)

[node name="Cacti" parent="NavigationRegion2D" unique_id=385006766 instance=ExtResource("5_nfwxd")]
position = Vector2(1280, 889)

[node name="Cacti3" parent="NavigationRegion2D" unique_id=557339832 instance=ExtResource("5_nfwxd")]
position = Vector2(1377, 570)

[node name="WallLayer" type="TileMapLayer" parent="NavigationRegion2D" unique_id=1152519833]
position = Vector2(1, -7)
tile_map_data = PackedByteArray("AAD/////BQABAAAAADAAAP//BQABAAAAADABAP//BQABAAAAADACAP//BQABAAAAADADAP//BQABAAAAADAEAP//BQABAAAAADAFAP//BQABAAAAADAGAP//BQABAAAAADAHAP//BQABAAAAADAIAP//BQABAAAAADAJAP//BQABAAAAADALAP//BQABAAAAADAMAP//BQABAAAAADANAP//BQABAAAAADAOAP//BQABAAAAADAPAP//BQABAAAAADAPAAAABQABAAAAAGAPAAEABQABAAAAAGAPAAIABQABAAAAAGAPAAMABQABAAAAAGAPAAQABQABAAAAAGAPAAUABQABAAAAAGAPAAYABQABAAAAAGAPAAcABQABAAAAAGAPAAgABQABAAAAAGD//wgABQABAAAAAFAAAAgABQADAAAAAAABAAgABQADAAAAAAACAAgABQADAAAAAAADAAgABQADAAAAAAAEAAgABQADAAAAAAAFAAgABQADAAAAAAAGAAgABQADAAAAAAAIAAgABQADAAAAAAAJAAgABQADAAAAAAAKAAgABQABAAAAAAD//wMABQABAAAAAFD//wQABQABAAAAAFD//wUABQABAAAAAFD//wcABQABAAAAAFD//wAABQABAAAAAFD//wEABQABAAAAAFD//wIABQABAAAAAFAKAP//BQADAAAAADALAAgABQADAAAAAAAMAAgABQADAAAAAAANAAgABQADAAAAAAAOAAgABQADAAAAAAD//wYABQABAAAAAFAHAAgABQADAAAAAAAEAAMABQACAAAAAAAEAAQABQADAAAAAGAEAAUABQADAAAAAGAEAAYABQADAAAAAGAEAAcABQADAAAAAGAFAAMABQADAAAAAAAGAAMABQADAAAAAAAHAAMABQADAAAAAAAIAAMABQADAAAAAAAJAAMABQADAAAAAAAKAAMABQADAAAAAAALAAMABQADAAAAAAA=")
tile_set = ExtResource("4_xx5rf")
metadata/_edit_lock_ = true

[node name="RebakeTimer" type="Timer" parent="NavigationRegion2D" unique_id=1528247024]
wait_time = 3.0
one_shot = true

[node name="MovableBox" parent="NavigationRegion2D" unique_id=1672531924 instance=ExtResource("8_p4p32")]
position = Vector2(1689, 932)

[node name="Box" parent="NavigationRegion2D" unique_id=1615796132 instance=ExtResource("10_stcu3")]
position = Vector2(1834, 800)

[node name="ArtilleryTower" parent="NavigationRegion2D" unique_id=1845065025 instance=ExtResource("9_2y10i")]
position = Vector2(1858, 950)

[node name="ArtilleryTower2" parent="NavigationRegion2D" unique_id=393455063 instance=ExtResource("9_2y10i")]
position = Vector2(913, 645)

[node name="UI" parent="." unique_id=1189717003 instance=ExtResource("11_ovtob")]

[node name="LevelMenu" parent="UI" unique_id=2140832043 instance=ExtResource("12_4j3r4")]
visible = false

[node name="LossScreen" parent="UI" unique_id=1886424522 instance=ExtResource("13_t1xa5")]
visible = false

[node name="WinScreen" parent="UI" unique_id=180070478 instance=ExtResource("14_o88eh")]
visible = false
next_level = ExtResource("15_xx5rf")

[node name="EnemySpawner" type="Node2D" parent="." unique_id=462682666]
position = Vector2(83, 908)
script = ExtResource("15_xf4l5")
to_spawn = Array[ExtResource("16_mjx5q")]([SubResource("Resource_dv5qn"), SubResource("Resource_303tg")])

[node name="SpawnTimer" type="Timer" parent="EnemySpawner" unique_id=1734237674]
wait_time = 30.0

[node name="Sprite2D" type="Sprite2D" parent="EnemySpawner" unique_id=830846977]
texture = ExtResource("18_303tg")

[node name="EnemySpawner3" type="Node2D" parent="." unique_id=2010026689]
position = Vector2(238, 910)
script = ExtResource("15_xf4l5")
to_spawn = Array[ExtResource("16_mjx5q")]([SubResource("Resource_nfwxd"), SubResource("Resource_nqasx")])

[node name="SpawnTimer" type="Timer" parent="EnemySpawner3" unique_id=1439831771]
wait_time = 15.0

[node name="Sprite2D" type="Sprite2D" parent="EnemySpawner3" unique_id=1077924431]
texture = ExtResource("18_303tg")

[node name="EnemySpawner2" parent="." unique_id=566380194 instance=ExtResource("15_grign")]
position = Vector2(417, 908)
to_spawn = Array[ExtResource("16_mjx5q")]([SubResource("Resource_xx5rf"), SubResource("Resource_tjwwh")])

[node name="Goal" parent="." unique_id=967983182 instance=ExtResource("19_o6vx8")]
position = Vector2(774, 667)

[connection signal="timeout" from="NavigationRegion2D/RebakeTimer" to="NavigationRegion2D" method="_on_rebake_timer_timeout"]
