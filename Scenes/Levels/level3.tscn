[gd_scene format=4 uid="uid://1h0e0dpux851"]

[ext_resource type="Script" uid="uid://cvqqmq04h5mxq" path="res://Scripts/level_starter.gd" id="1_l8qla"]
[ext_resource type="TileSet" uid="uid://dv2ek4xnnct6f" path="res://Assets/Resources/ground_tileset.tres" id="2_du1gc"]
[ext_resource type="PackedScene" uid="uid://bojvjttovmt8" path="res://Scenes/wind_controller.tscn" id="3_uwisk"]
[ext_resource type="Script" uid="uid://dvpqim5omfji7" path="res://Scripts/navigation_region_2d.gd" id="4_yqib7"]
[ext_resource type="TileSet" uid="uid://b8bqcouefk1rw" path="res://Assets/Resources/wall_tileset.tres" id="5_w3eof"]
[ext_resource type="PackedScene" uid="uid://b25xtwhs2csqi" path="res://Scenes/movable_box.tscn" id="6_pyjyt"]
[ext_resource type="PackedScene" uid="uid://c2v52suxx5jrp" path="res://Scenes/Towers/ballista_tower.tscn" id="7_qm4xx"]
[ext_resource type="PackedScene" uid="uid://krdnhpomjc73" path="res://Scenes/UI/ui.tscn" id="8_kp1sm"]
[ext_resource type="PackedScene" uid="uid://cvyicx01sm07a" path="res://Scenes/level_menu.tscn" id="9_du1gc"]
[ext_resource type="PackedScene" uid="uid://lvc3cohw20il" path="res://Scenes/enemy_spawner.tscn" id="9_rdfk5"]
[ext_resource type="Script" uid="uid://bvjbq0juon6qg" path="res://Scripts/spawn_entry.gd" id="10_jedjv"]
[ext_resource type="PackedScene" uid="uid://q6a5e0rxses2" path="res://Scenes/loss_screen.tscn" id="10_w3eof"]
[ext_resource type="PackedScene" uid="uid://4xl7mw440pyc" path="res://Scenes/Enemies/normal_enemy.tscn" id="11_etuld"]
[ext_resource type="PackedScene" uid="uid://sx0w03itiw5k" path="res://Scenes/win_screen.tscn" id="11_pyjyt"]
[ext_resource type="PackedScene" uid="uid://0gr4fcra4smn" path="res://Scenes/Levels/level4.tscn" id="12_qm4xx"]
[ext_resource type="PackedScene" uid="uid://uk4xl3k6nbqj" path="res://Scenes/Enemies/heavy_enemy.tscn" id="12_v1uej"]
[ext_resource type="PackedScene" uid="uid://j1ftmn1hkutc" path="res://Scenes/goal.tscn" id="13_f80nq"]
[ext_resource type="Script" uid="uid://cgmf4l50frubg" path="res://Scripts/tutorial2.gd" id="14_lnl7s"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_ud172"]
vertices = PackedVector2Array(1567, 1111.2422, 1567, 1110.2266, 1695, 1111.2422, 1695, 1110.2266, 1823, 1111.2422, 1891, 1112.2578, 31, 1117.7109, 31, 1110.2266, 159, 1111.2422, 287, 1111.2422, 159, 1110.2266, 287, 1110.2266, 415, 1111.2422, 415, 1110.2266, 543, 1111.2422, 543, 1110.2266, 671, 1111.2422, 671, 1110.2266, 799, 1111.2422, 799, 1110.2266, 927, 1111.2422, 927, 1110.2266, 1055, 1111.2422, 1055, 1110.2266, 1183, 1111.2422, 1183, 1110.2266, 1311, 1111.2422, 1823, 1110.2266, 1891, 1110.7578, 1311, 1109, 1379, 1109, 1379, 1109.7734, 1574, 486.1797, 1567, 512.3125, 1567, 219, 1574, 458, 1567, 599.2422, 1567, 527.6797, 1574, 553.8125, 1574, 582, 1698, 553.8125, 1707.0625, 520, 1891, 23, 1891, 987, 1698, 582, 1698, 486.1797, 1698, 458, 1030, 321.8125, 1039.0625, 288, 1123, 219, 1123, 663, 1030, 350, 1636, 591.0625, 1669.8125, 582, 1266.7813, 987, 1266.7031, 983.5781, 1281.0625, 930, 1602.1875, 582, 1266.1797, 874.46875, 1030, 254.17969, 1030, 226, 438.9375, 62, 446.71094, 91, 227, 91, 31, 23, 1074, 985.7031, 1074, 987, 774.8594, 987, 789.0625, 934, 1073.8203, 985.53125, 566.9375, 934, 581.1406, 987, 199.79688, 987, 199.70313, 982.5781, 214.0625, 929, 1058.9375, 930, 774.1797, 878.46875, 415, 215.24219, 415, 214.22656, 543, 215.24219, 543, 214.22656, 671, 215.24219, 1439, 663, 1439, 598.22656, 1441.8125, 302, 1443.5781, 302, 1442.7578, 407, 1408, 311.0625, 1443.7578, 407, 1443.2266, 475, 1316.2266, 475, 1247.2422, 475, 1246.2422, 475, 1247.2422, 347, 1346, 273.8125, 1346, 302, 1246.2422, 347, 1247.2422, 219, 1336.9375, 240, 1314.7578, 663, 1245.7734, 663, 1263.3438, 835, 906, 226, 671, 23, 968, 216.9375, 46.289063, 834, 31, 834, 47.46875, 832.8203, 103, 817.9375, 227, 213.77344, 448, 23, 448, 28.179688, 1374.1875, 302, 1636, 448.9375, 1602.1875, 458, 1346, 206.17969, 1346, 178, 158.53125, 832.8203, 1264.1719, 872.46094, 1073.8203, 874.46875, 772.1719, 876.46094, 771.34375, 839, 581.8203, 878.46875, 199.17969, 873.46875, 1473.4297, 219, 1470, 206.17969, 1470, 178, 1001.8125, 350, 968, 359.0625, 1226.7109, 835, 1225.5313, 833.8203, 1170, 818.9375, 1114.4688, 833.8203, 1074, 835, 734.71094, 839, 733.53125, 837.8203, 906, 350, 934.1875, 350, 196.34375, 834, 159.71094, 834, 1669.8125, 458, 621.28906, 839, 582, 839, 622.46875, 837.8203, 1074, 874.28906, 582, 878.28906, 197.17188, 871.46094, 678, 822.9375, 906, 321.8125, 896.9375, 288, 1113.2891, 835, 906, 254.17969, 1441.8125, 178, 1408, 168.9375, 1374.1875, 178, 1001.8125, 226, 934.1875, 226)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(2, 3, 4, 5), PackedInt32Array(6, 7, 8), PackedInt32Array(5, 6, 8, 9), PackedInt32Array(8, 10, 9), PackedInt32Array(9, 11, 12), PackedInt32Array(5, 9, 12), PackedInt32Array(12, 13, 14), PackedInt32Array(5, 12, 14), PackedInt32Array(14, 15, 16), PackedInt32Array(5, 14, 16), PackedInt32Array(16, 17, 18), PackedInt32Array(5, 16, 18), PackedInt32Array(18, 19, 20), PackedInt32Array(5, 18, 20), PackedInt32Array(20, 21, 22), PackedInt32Array(5, 20, 22), PackedInt32Array(22, 23, 24), PackedInt32Array(5, 22, 24), PackedInt32Array(24, 25, 26), PackedInt32Array(5, 24, 26), PackedInt32Array(4, 27, 28, 5), PackedInt32Array(26, 29, 30, 31), PackedInt32Array(26, 31, 0), PackedInt32Array(5, 26, 0), PackedInt32Array(5, 0, 2), PackedInt32Array(32, 33, 34, 35), PackedInt32Array(36, 37, 38, 39), PackedInt32Array(40, 41, 42, 43, 44), PackedInt32Array(42, 41, 45, 46), PackedInt32Array(47, 48, 49, 50, 51), PackedInt32Array(52, 53, 44, 43, 54, 55, 56), PackedInt32Array(57, 52, 56, 58), PackedInt32Array(49, 48, 59, 60), PackedInt32Array(61, 62, 63, 64), PackedInt32Array(65, 66, 67, 68, 69), PackedInt32Array(70, 71, 72, 73, 74), PackedInt32Array(75, 69, 68, 76), PackedInt32Array(77, 78, 79), PackedInt32Array(79, 80, 81), PackedInt32Array(82, 83, 36), PackedInt32Array(84, 85, 86, 87), PackedInt32Array(86, 88, 89, 90), PackedInt32Array(91, 92, 93), PackedInt32Array(94, 95, 93, 96, 97, 98), PackedInt32Array(90, 99, 91, 93), PackedInt32Array(100, 91, 99, 101), PackedInt32Array(102, 81, 103, 42, 104), PackedInt32Array(105, 106, 64, 107), PackedInt32Array(108, 107, 64, 63, 109), PackedInt32Array(64, 110, 111, 61), PackedInt32Array(112, 87, 86, 90, 93, 95), PackedInt32Array(113, 114, 35, 34, 42), PackedInt32Array(115, 98, 97, 116), PackedInt32Array(117, 108, 109, 77), PackedInt32Array(36, 57, 58, 118, 101, 82), PackedInt32Array(119, 75, 76, 120, 121), PackedInt32Array(122, 70, 74, 123), PackedInt32Array(34, 124, 125, 126, 42), PackedInt32Array(127, 51, 50, 128), PackedInt32Array(36, 39, 57), PackedInt32Array(99, 82, 101), PackedInt32Array(100, 101, 129, 130), PackedInt32Array(100, 130, 131, 50), PackedInt32Array(50, 131, 132, 133, 121, 134, 135, 136, 137, 128), PackedInt32Array(138, 139, 117, 77, 79), PackedInt32Array(42, 46, 140, 113), PackedInt32Array(141, 142, 138, 79, 81, 143), PackedInt32Array(144, 119, 121, 133), PackedInt32Array(142, 145, 122, 123, 146, 138), PackedInt32Array(147, 143, 81), PackedInt32Array(148, 136, 135, 147, 81, 149), PackedInt32Array(132, 150, 133), PackedInt32Array(151, 149, 81, 102), PackedInt32Array(116, 97, 49, 104), PackedInt32Array(42, 126, 152, 153), PackedInt32Array(153, 154, 116), PackedInt32Array(60, 155, 104, 49), PackedInt32Array(104, 156, 102), PackedInt32Array(104, 42, 153, 116)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1973, -65, 1984, 1142, -65, 1148, -64, -73)])
agent_radius = 30.0

[sub_resource type="Resource" id="Resource_nqasx"]
script = ExtResource("10_jedjv")
scene = ExtResource("11_etuld")
count = 3
spawn_rate = 3.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_t27xo"]
script = ExtResource("10_jedjv")
scene = ExtResource("11_etuld")
count = 3
spawn_rate = 1.5
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_yxf76"]
script = ExtResource("10_jedjv")
scene = ExtResource("12_v1uej")
count = 2
spawn_rate = 5.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_13yca"]
script = ExtResource("10_jedjv")
scene = ExtResource("11_etuld")
count = 8
spawn_rate = 1.5
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_1hf40"]
script = ExtResource("10_jedjv")
scene = ExtResource("12_v1uej")
spawn_rate = 10.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_8dmpc"]
script = ExtResource("10_jedjv")
scene = ExtResource("11_etuld")
count = 10
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[node name="level3" type="Node2D" unique_id=179991829 node_paths=PackedStringArray("spawners")]
script = ExtResource("1_l8qla")
spawners = [NodePath("EnemySpawner")]

[node name="GroundLayer" type="TileMapLayer" parent="." unique_id=1395427363]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAD//wUAAAAAAAAAAAD//wYAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAcAAAAAAAAAAAABAAcAAAAAAAAAAAD/////AAAAAAAAAAD//wAAAAAAAAAAAAD//wEAAAAAAAAAAAD//wIAAAAAAAAAAAD//wMAAAAAAAAAAAD//wQAAAAAAAAAAAD//wcAAAAAAAAAAAD//wgAAAAAAAAAAAAAAP//AAAAAAAAAAAAAAgAAAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAABAAQAAAAAAAAAAAABAAUAAAAAAAAAAAABAAYAAAAAAAAAAAABAAgAAAAAAAAAAAACAP//AAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAACAAQAAAAAAAAAAAACAAUAAAAAAAAAAAACAAYAAAAAAAAAAAACAAcAAAAAAAAAAAACAAgAAAAAAAAAAAADAP//AAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAADAAYAAAAAAAAAAAADAAcAAAAAAAAAAAADAAgAAAAAAAAAAAAEAP//AAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAUAAAAAAAAAAAAEAAYAAAAAAAAAAAAEAAcAAAAAAAAAAAAEAAgAAAAAAAAAAAAFAP//AAAAAAAAAAAFAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAAAAAAFAAUAAAAAAAAAAAAFAAYAAAAAAAAAAAAFAAcAAAAAAAAAAAAFAAgAAAAAAAAAAAAGAP//AAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAUAAAAAAAAAAAAGAAYAAAAAAAAAAAAGAAcAAAAAAAAAAAAGAAgAAAAAAAAAAAAHAP//AAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAHAAUAAAAAAAAAAAAHAAYAAAAAAAAAAAAHAAcAAAAAAAAAAAAHAAgAAAAAAAAAAAAIAP//AAAAAAAAAAAIAAAAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAMAAAAAAAAAAAAIAAQAAAAAAAAAAAAIAAUAAAAAAAAAAAAIAAYAAAAAAAAAAAAIAAcAAAAAAAAAAAAIAAgAAAAAAAAAAAAJAP//AAAAAAAAAAAJAAAAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAMAAAAAAAAAAAAJAAQAAAAAAAAAAAAJAAUAAAAAAAAAAAAJAAYAAAAAAAAAAAAJAAcAAAAAAAAAAAAJAAgAAAAAAAAAAAAKAP//AAAAAAAAAAAKAAAAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAIAAAAAAAAAAAAKAAMAAAAAAAAAAAAKAAQAAAAAAAAAAAAKAAUAAAAAAAAAAAAKAAYAAAAAAAAAAAAKAAcAAAAAAAAAAAAKAAgAAAAAAAAAAAALAP//AAAAAAAAAAALAAAAAAAAAAAAAAALAAEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAMAAAAAAAAAAAALAAQAAAAAAAAAAAALAAUAAAAAAAAAAAALAAYAAAAAAAAAAAALAAcAAAAAAAAAAAALAAgAAAAAAAAAAAAMAP//AAAAAAAAAAAMAAAAAAAAAAAAAAAMAAEAAAAAAAAAAAAMAAIAAAAAAAAAAAAMAAMAAAAAAAAAAAAMAAQAAAAAAAAAAAAMAAUAAAAAAAAAAAAMAAYAAAAAAAAAAAAMAAcAAAAAAAAAAAAMAAgAAAAAAAAAAAANAP//AAAAAAAAAAANAAAAAAAAAAAAAAANAAEAAAAAAAAAAAANAAIAAAAAAAAAAAANAAMAAAAAAAAAAAANAAQAAAAAAAAAAAANAAUAAAAAAAAAAAANAAYAAAAAAAAAAAANAAcAAAAAAAAAAAANAAgAAAAAAAAAAAAOAP//AAAAAAAAAAAOAAAAAAAAAAAAAAAOAAEAAAAAAAAAAAAOAAIAAAAAAAAAAAAOAAMAAAAAAAAAAAAOAAQAAAAAAAAAAAAOAAUAAAAAAAAAAAAOAAYAAAAAAAAAAAAOAAcAAAAAAAAAAAAOAAgAAAAAAAAAAAAPAP//AAAAAAAAAAAPAAAAAAAAAAAAAAAPAAEAAAAAAAAAAAAPAAIAAAAAAAAAAAAPAAMAAAAAAAAAAAAPAAQAAAAAAAAAAAAPAAUAAAAAAAAAAAAPAAYAAAAAAAAAAAAPAAcAAAAAAAAAAAAPAAgAAAAAAAAAAAA=")
tile_set = ExtResource("2_du1gc")
metadata/_edit_lock_ = true

[node name="WindController" parent="." unique_id=1545098080 instance=ExtResource("3_uwisk")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." unique_id=1302352236]
position = Vector2(-1, 7)
navigation_polygon = SubResource("NavigationPolygon_ud172")
script = ExtResource("4_yqib7")

[node name="WallLayer" type="TileMapLayer" parent="NavigationRegion2D" unique_id=1728259221]
position = Vector2(1, -7)
tile_map_data = PackedByteArray("AAD/////BQABAAAAADAAAP//BQABAAAAADABAP//BQABAAAAADACAP//BQABAAAAADADAP//BQABAAAAADAEAP//BQABAAAAADAFAP//BQABAAAAADAGAP//BQABAAAAADAHAP//BQABAAAAADAIAP//BQABAAAAADAJAP//BQABAAAAADALAP//BQABAAAAADAMAP//BQABAAAAADANAP//BQABAAAAADAOAP//BQABAAAAADAPAP//BQABAAAAADAPAAAABQABAAAAAGAPAAEABQABAAAAAGAPAAIABQABAAAAAGAPAAMABQABAAAAAGAPAAQABQABAAAAAGAPAAUABQABAAAAAGAPAAYABQABAAAAAGAPAAcABQABAAAAAGAPAAgABQABAAAAAGD//wgABQABAAAAAFAAAAgABQADAAAAAAABAAgABQADAAAAAAACAAgABQADAAAAAAADAAgABQADAAAAAAAEAAgABQADAAAAAAAFAAgABQADAAAAAAAGAAgABQADAAAAAAAHAAgABQADAAAAAAAIAAgABQADAAAAAAAJAAgABQADAAAAAAAKAAgABQABAAAAAAD//wMABQABAAAAAFD//wQABQABAAAAAFD//wUABQABAAAAAFD//wYABQABAAAAAFD//wcABQABAAAAAFD//wAABQABAAAAAFD//wEABQABAAAAAFD//wIABQABAAAAAFAKAP//BQADAAAAADALAAgABQADAAAAAAAMAAgABQADAAAAAAANAAgABQADAAAAAAAOAAgABQADAAAAAAALAAQABQADAAAAAAALAAMABQADAAAAAFAJAAMABQADAAAAAGAJAAIABQADAAAAAGALAAIABQADAAAAAFAJAAQABQADAAAAAGACAAEABQADAAAAAAADAAEABQADAAAAAAAEAAEABQADAAAAAAAEAAAABQADAAAAAFAKAAQABQADAAAAAFA=")
tile_set = ExtResource("5_w3eof")
metadata/_edit_lock_ = true

[node name="RebakeTimer" type="Timer" parent="NavigationRegion2D" unique_id=344249157]
wait_time = 3.0
one_shot = true

[node name="MovableBox2" parent="NavigationRegion2D" unique_id=1673245718 instance=ExtResource("6_pyjyt")]
position = Vector2(103, 929)

[node name="MovableBox3" parent="NavigationRegion2D" unique_id=1672531924 instance=ExtResource("6_pyjyt")]
position = Vector2(678, 934)

[node name="MovableBox4" parent="NavigationRegion2D" unique_id=1837372620 instance=ExtResource("6_pyjyt")]
position = Vector2(1170, 930)

[node name="BallistaTower" parent="NavigationRegion2D" unique_id=1845065025 instance=ExtResource("7_qm4xx")]
position = Vector2(1408, 240)

[node name="BallistaTower4" parent="NavigationRegion2D" unique_id=99050933 instance=ExtResource("7_qm4xx")]
position = Vector2(1636, 520)

[node name="BallistaTower2" parent="NavigationRegion2D" unique_id=1180314890 instance=ExtResource("7_qm4xx")]
position = Vector2(510, 62)

[node name="BallistaTower3" parent="NavigationRegion2D" unique_id=640361753 instance=ExtResource("7_qm4xx")]
position = Vector2(968, 288)

[node name="UI" parent="." unique_id=1189717003 instance=ExtResource("8_kp1sm")]

[node name="LevelMenu" parent="UI" unique_id=2140832043 instance=ExtResource("9_du1gc")]
visible = false

[node name="LossScreen" parent="UI" unique_id=1886424522 instance=ExtResource("10_w3eof")]
visible = false

[node name="WinScreen" parent="UI" unique_id=180070478 instance=ExtResource("11_pyjyt")]
visible = false
next_level = ExtResource("12_qm4xx")

[node name="EnemySpawner" parent="." unique_id=462682666 instance=ExtResource("9_rdfk5")]
position = Vector2(158, 774)
to_spawn = Array[ExtResource("10_jedjv")]([SubResource("Resource_nqasx"), SubResource("Resource_t27xo"), SubResource("Resource_yxf76"), SubResource("Resource_13yca"), SubResource("Resource_1hf40"), SubResource("Resource_8dmpc")])

[node name="Goal" parent="." unique_id=967983182 instance=ExtResource("13_f80nq")]
position = Vector2(1727, 875)

[node name="Tutorial2" type="Node2D" parent="." unique_id=358830884]
script = ExtResource("14_lnl7s")

[node name="RichTextLabel" type="RichTextLabel" parent="Tutorial2" unique_id=2058826162]
offset_left = 23.0
offset_top = 220.0
offset_right = 479.0
offset_bottom = 406.0
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_font_sizes/normal_font_size = 26
text = "You've unlocked \"global wind\" you can create a weaker wind on the entire map. 
Try selecting it with [2]."
horizontal_alignment = 1

[node name="Timer" type="Timer" parent="Tutorial2" unique_id=1677071423]
wait_time = 9.0

[connection signal="timeout" from="NavigationRegion2D/RebakeTimer" to="NavigationRegion2D" method="_on_rebake_timer_timeout"]
[connection signal="timeout" from="Tutorial2/Timer" to="Tutorial2" method="_on_timer_timeout"]
