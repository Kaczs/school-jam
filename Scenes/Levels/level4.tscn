[gd_scene format=4 uid="uid://0gr4fcra4smn"]

[ext_resource type="TileSet" uid="uid://dv2ek4xnnct6f" path="res://Assets/Resources/ground_tileset.tres" id="1_7npjx"]
[ext_resource type="Script" uid="uid://cvqqmq04h5mxq" path="res://Scripts/level_starter.gd" id="1_lmqgw"]
[ext_resource type="PackedScene" uid="uid://bojvjttovmt8" path="res://Scenes/wind_controller.tscn" id="2_kee65"]
[ext_resource type="Script" uid="uid://dvpqim5omfji7" path="res://Scripts/navigation_region_2d.gd" id="3_lmqgw"]
[ext_resource type="TileSet" uid="uid://b8bqcouefk1rw" path="res://Assets/Resources/wall_tileset.tres" id="4_c346c"]
[ext_resource type="PackedScene" uid="uid://krdnhpomjc73" path="res://Scenes/UI/ui.tscn" id="5_46s4o"]
[ext_resource type="PackedScene" uid="uid://lvc3cohw20il" path="res://Scenes/enemy_spawner.tscn" id="6_ndqic"]
[ext_resource type="PackedScene" uid="uid://b25xtwhs2csqi" path="res://Scenes/movable_box.tscn" id="7_c346c"]
[ext_resource type="Script" uid="uid://bvjbq0juon6qg" path="res://Scripts/spawn_entry.gd" id="7_vqlhw"]
[ext_resource type="PackedScene" uid="uid://uk4xl3k6nbqj" path="res://Scenes/Enemies/heavy_enemy.tscn" id="8_la4le"]
[ext_resource type="Script" uid="uid://dobo3k5tvfyig" path="res://Scripts/enemy_spawner.gd" id="9_c346c"]
[ext_resource type="PackedScene" uid="uid://4xl7mw440pyc" path="res://Scenes/Enemies/normal_enemy.tscn" id="9_opn2v"]
[ext_resource type="PackedScene" uid="uid://j1ftmn1hkutc" path="res://Scenes/goal.tscn" id="10_jk2yk"]
[ext_resource type="PackedScene" uid="uid://cvyicx01sm07a" path="res://Scenes/level_menu.tscn" id="10_ndqic"]
[ext_resource type="PackedScene" uid="uid://c2v52suxx5jrp" path="res://Scenes/Towers/ballista_tower.tscn" id="12_c346c"]
[ext_resource type="PackedScene" uid="uid://mbkdc11c52wk" path="res://Scenes/Towers/artillery_tower.tscn" id="12_lmqgw"]
[ext_resource type="PackedScene" uid="uid://q6a5e0rxses2" path="res://Scenes/loss_screen.tscn" id="12_otlb7"]
[ext_resource type="PackedScene" uid="uid://sx0w03itiw5k" path="res://Scenes/win_screen.tscn" id="13_hgq1i"]
[ext_resource type="PackedScene" uid="uid://brkwb8ngba104" path="res://Scenes/Levels/level5.tscn" id="14_wbnnf"]
[ext_resource type="PackedScene" uid="uid://dm8wart2qijrc" path="res://Scenes/box.tscn" id="16_vqlhw"]
[ext_resource type="Texture2D" uid="uid://1ew70gbl735k" path="res://Assets/Sprites/EnemyBurrow.png" id="19_hgq1i"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_mnmct"]
vertices = PackedVector2Array(1562, 1106.2031, 1562, 1105.1875, 1690, 1106.2031, 1896, 1117.25, 1690, 1105.1875, 1818, 1106.2031, 26, 1122.7266, 26, 1105.1875, 154, 1106.2031, 282, 1106.2031, 154, 1105.1875, 282, 1105.1875, 410, 1106.2031, 410, 1105.1875, 538, 1106.2031, 538, 1105.1875, 666, 1106.2031, 666, 1105.1875, 794, 1106.2031, 794, 1105.1875, 922, 1106.2031, 922, 1105.1875, 1050, 1106.2031, 1050, 1105.1875, 1178, 1106.2031, 1178, 1105.1875, 1306, 1106.2031, 1818, 1105.1875, 1896, 1105.7969, 1306, 1104, 1384, 1104, 1384, 1104.8125, 1896, 992, 26, 992, 26, 18, 1896, 18)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(2, 4, 5, 3), PackedInt32Array(6, 7, 8), PackedInt32Array(3, 6, 8, 9), PackedInt32Array(8, 10, 9), PackedInt32Array(9, 11, 12), PackedInt32Array(3, 9, 12), PackedInt32Array(12, 13, 14, 3), PackedInt32Array(14, 15, 16, 3), PackedInt32Array(16, 17, 18, 3), PackedInt32Array(18, 19, 20, 3), PackedInt32Array(20, 21, 22, 3), PackedInt32Array(22, 23, 24, 3), PackedInt32Array(24, 25, 26, 3), PackedInt32Array(5, 27, 28, 3), PackedInt32Array(26, 29, 30, 31), PackedInt32Array(3, 26, 31, 0), PackedInt32Array(32, 33, 34, 35)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1973, -65, 1984, 1142, -65, 1148, -64, -73)])
agent_radius = 25.0

[sub_resource type="Resource" id="Resource_nqasx"]
script = ExtResource("7_vqlhw")
scene = ExtResource("8_la4le")
count = 2
spawn_rate = 3.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_46s4o"]
script = ExtResource("7_vqlhw")
scene = ExtResource("9_opn2v")
count = 10
spawn_rate = 3.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_otlb7"]
script = ExtResource("7_vqlhw")
scene = ExtResource("9_opn2v")
count = 10
spawn_rate = 3.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[sub_resource type="Resource" id="Resource_hgq1i"]
script = ExtResource("7_vqlhw")
scene = ExtResource("9_opn2v")
count = 10
spawn_rate = 2.0
metadata/_custom_type_script = "uid://bvjbq0juon6qg"

[node name="level4" type="Node2D" unique_id=1781606394 node_paths=PackedStringArray("spawners")]
script = ExtResource("1_lmqgw")
spawners = [NodePath("EnemySpawner"), NodePath("EnemySpawner2")]

[node name="GroundLayer" type="TileMapLayer" parent="." unique_id=230203217]
z_index = -2
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAD//wUAAAAAAAAAAAD//wYAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAcAAAAAAAAAAAABAAcAAAAAAAAAAAD/////AAAAAAAAAAD//wAAAAAAAAAAAAD//wEAAAAAAAAAAAD//wIAAAAAAAAAAAD//wMAAAAAAAAAAAD//wQAAAAAAAAAAAD//wcAAAAAAAAAAAD//wgAAAAAAAAAAAAAAP//AAAAAAAAAAAAAAgAAAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAABAAQAAAAAAAAAAAABAAUAAAAAAAAAAAABAAYAAAAAAAAAAAABAAgAAAAAAAAAAAACAP//AAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAACAAQAAAAAAAAAAAACAAUAAAAAAAAAAAACAAYAAAAAAAAAAAACAAcAAAAAAAAAAAACAAgAAAAAAAAAAAADAP//AAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAADAAYAAAAAAAAAAAADAAcAAAAAAAAAAAADAAgAAAAAAAAAAAAEAP//AAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAUAAAAAAAAAAAAEAAYAAAAAAAAAAAAEAAcAAAAAAAAAAAAEAAgAAAAAAAAAAAAFAP//AAAAAAAAAAAFAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAAAAAAFAAUAAAAAAAAAAAAFAAYAAAAAAAAAAAAFAAcAAAAAAAAAAAAFAAgAAAAAAAAAAAAGAP//AAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAUAAAAAAAAAAAAGAAYAAAAAAAAAAAAGAAcAAAAAAAAAAAAGAAgAAAAAAAAAAAAHAP//AAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAHAAUAAAAAAAAAAAAHAAYAAAAAAAAAAAAHAAcAAAAAAAAAAAAHAAgAAAAAAAAAAAAIAP//AAAAAAAAAAAIAAAAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAMAAAAAAAAAAAAIAAQAAAAAAAAAAAAIAAUAAAAAAAAAAAAIAAYAAAAAAAAAAAAIAAcAAAAAAAAAAAAIAAgAAAAAAAAAAAAJAP//AAAAAAAAAAAJAAAAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAMAAAAAAAAAAAAJAAQAAAAAAAAAAAAJAAUAAAAAAAAAAAAJAAYAAAAAAAAAAAAJAAcAAAAAAAAAAAAJAAgAAAAAAAAAAAAKAP//AAAAAAAAAAAKAAAAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAIAAAAAAAAAAAAKAAMAAAAAAAAAAAAKAAQAAAAAAAAAAAAKAAUAAAAAAAAAAAAKAAYAAAAAAAAAAAAKAAcAAAAAAAAAAAAKAAgAAAAAAAAAAAALAP//AAAAAAAAAAALAAAAAAAAAAAAAAALAAEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAMAAAAAAAAAAAALAAQAAAAAAAAAAAALAAUAAAAAAAAAAAALAAYAAAAAAAAAAAALAAcAAAAAAAAAAAALAAgAAAAAAAAAAAAMAP//AAAAAAAAAAAMAAAAAAAAAAAAAAAMAAEAAAAAAAAAAAAMAAIAAAAAAAAAAAAMAAMAAAAAAAAAAAAMAAQAAAAAAAAAAAAMAAUAAAAAAAAAAAAMAAYAAAAAAAAAAAAMAAcAAAAAAAAAAAAMAAgAAAAAAAAAAAANAP//AAAAAAAAAAANAAAAAAAAAAAAAAANAAEAAAAAAAAAAAANAAIAAAAAAAAAAAANAAMAAAAAAAAAAAANAAQAAAAAAAAAAAANAAUAAAAAAAAAAAANAAYAAAAAAAAAAAANAAcAAAAAAAAAAAANAAgAAAAAAAAAAAAOAP//AAAAAAAAAAAOAAAAAAAAAAAAAAAOAAEAAAAAAAAAAAAOAAIAAAAAAAAAAAAOAAMAAAAAAAAAAAAOAAQAAAAAAAAAAAAOAAUAAAAAAAAAAAAOAAYAAAAAAAAAAAAOAAcAAAAAAAAAAAAOAAgAAAAAAAAAAAAPAP//AAAAAAAAAAAPAAAAAAAAAAAAAAAPAAEAAAAAAAAAAAAPAAIAAAAAAAAAAAAPAAMAAAAAAAAAAAAPAAQAAAAAAAAAAAAPAAUAAAAAAAAAAAAPAAYAAAAAAAAAAAAPAAcAAAAAAAAAAAAPAAgAAAAAAAAAAAA=")
tile_set = ExtResource("1_7npjx")
metadata/_edit_lock_ = true

[node name="WindController" parent="." unique_id=1545098080 instance=ExtResource("2_kee65")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." unique_id=673027043]
position = Vector2(-1, 7)
navigation_polygon = SubResource("NavigationPolygon_mnmct")
script = ExtResource("3_lmqgw")

[node name="WallLayer" type="TileMapLayer" parent="NavigationRegion2D" unique_id=1613997816]
position = Vector2(1, -7)
tile_map_data = PackedByteArray("AAD/////BQABAAAAADAAAP//BQABAAAAADABAP//BQABAAAAADACAP//BQABAAAAADADAP//BQABAAAAADAEAP//BQABAAAAADAFAP//BQABAAAAADAGAP//BQABAAAAADAHAP//BQABAAAAADAIAP//BQABAAAAADAJAP//BQABAAAAADALAP//BQABAAAAADAMAP//BQABAAAAADANAP//BQABAAAAADAOAP//BQABAAAAADAPAP//BQABAAAAADAPAAAABQABAAAAAGAPAAEABQABAAAAAGAPAAIABQABAAAAAGAPAAMABQABAAAAAGAPAAQABQABAAAAAGAPAAUABQABAAAAAGAPAAYABQABAAAAAGAPAAcABQABAAAAAGAPAAgABQABAAAAAGD//wgABQABAAAAAFAAAAgABQADAAAAAAABAAgABQADAAAAAAACAAgABQADAAAAAAADAAgABQADAAAAAAAEAAgABQADAAAAAAAFAAgABQADAAAAAAAGAAgABQADAAAAAAAHAAgABQADAAAAAAAIAAgABQADAAAAAAAJAAgABQADAAAAAAAKAAgABQABAAAAAAD//wMABQABAAAAAFD//wQABQABAAAAAFD//wUABQABAAAAAFD//wcABQABAAAAAFD//wAABQABAAAAAFD//wEABQABAAAAAFD//wIABQABAAAAAFAKAP//BQADAAAAADALAAgABQADAAAAAAAMAAgABQADAAAAAAANAAgABQADAAAAAAAOAAgABQADAAAAAAD//wYABQABAAAAAFAGAAIABQACAAAAAGAIAAIABQACAAAAADAHAAIABQADAAAAADAOAAYABQADAAAAADANAAYABQADAAAAADAMAAYABQADAAAAADAKAAcABQADAAAAAGAKAAYABQADAAAAAGA=")
tile_set = ExtResource("4_c346c")
metadata/_edit_lock_ = true

[node name="RebakeTimer" type="Timer" parent="NavigationRegion2D" unique_id=799066216]
wait_time = 3.0
one_shot = true

[node name="ArtilleryTower" parent="NavigationRegion2D" unique_id=953662431 instance=ExtResource("12_lmqgw")]
position = Vector2(960, 272)

[node name="MovableBox" parent="NavigationRegion2D" unique_id=1672531924 instance=ExtResource("7_c346c")]
position = Vector2(941, 843)

[node name="MovableBox2" parent="NavigationRegion2D" unique_id=452625989 instance=ExtResource("7_c346c")]
position = Vector2(1464, 946)

[node name="BallistaTower" parent="NavigationRegion2D" unique_id=1845065025 instance=ExtResource("12_c346c")]
position = Vector2(1840, 941)

[node name="BallistaTower2" parent="NavigationRegion2D" unique_id=837068973 instance=ExtResource("12_c346c")]
position = Vector2(1089, 970)

[node name="BallistaTower3" parent="NavigationRegion2D" unique_id=10420888 instance=ExtResource("12_c346c")]
position = Vector2(387, 262)

[node name="Box" parent="NavigationRegion2D" unique_id=1615796132 instance=ExtResource("16_vqlhw")]
position = Vector2(895, 160)

[node name="Box3" parent="NavigationRegion2D" unique_id=2081132356 instance=ExtResource("16_vqlhw")]
position = Vector2(386, 367)

[node name="Box4" parent="NavigationRegion2D" unique_id=1647869734 instance=ExtResource("16_vqlhw")]
position = Vector2(385, 633)

[node name="Box2" parent="NavigationRegion2D" unique_id=716636963 instance=ExtResource("16_vqlhw")]
position = Vector2(1029, 160)

[node name="UI" parent="." unique_id=1189717003 instance=ExtResource("5_46s4o")]

[node name="LevelMenu" parent="UI" unique_id=2140832043 instance=ExtResource("10_ndqic")]
visible = false

[node name="LossScreen" parent="UI" unique_id=1886424522 instance=ExtResource("12_otlb7")]
visible = false

[node name="WinScreen" parent="UI" unique_id=180070478 instance=ExtResource("13_hgq1i")]
visible = false
next_level = ExtResource("14_wbnnf")

[node name="EnemySpawner" type="Node2D" parent="." unique_id=462682666]
position = Vector2(1800, 517)
script = ExtResource("9_c346c")
to_spawn = Array[ExtResource("7_vqlhw")]([SubResource("Resource_nqasx"), SubResource("Resource_46s4o")])

[node name="SpawnTimer" type="Timer" parent="EnemySpawner" unique_id=1734237674]
wait_time = 25.0

[node name="Sprite2D" type="Sprite2D" parent="EnemySpawner" unique_id=1023641283]
texture = ExtResource("19_hgq1i")

[node name="EnemySpawner2" parent="." unique_id=533580324 instance=ExtResource("6_ndqic")]
position = Vector2(130, 518)
to_spawn = Array[ExtResource("7_vqlhw")]([SubResource("Resource_otlb7"), SubResource("Resource_hgq1i")])

[node name="Goal" parent="." unique_id=967983182 instance=ExtResource("10_jk2yk")]
position = Vector2(960, 516)

[connection signal="timeout" from="NavigationRegion2D/RebakeTimer" to="NavigationRegion2D" method="_on_rebake_timer_timeout"]
